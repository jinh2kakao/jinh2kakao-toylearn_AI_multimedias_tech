### ğŸ—„ï¸ Phase 5: DB ë° ì¸í”„ë¼ (Database & Infra) ìƒì„¸ ê°€ì´ë“œ

ì´ ë‹¨ê³„ëŠ” 5ê°€ì§€ í•µì‹¬ Taskë¡œ ë‚˜ë‰©ë‹ˆë‹¤.

1.  ë°ì´í„°ë² ì´ìŠ¤ ì„ ì • ë° ìŠ¤í‚¤ë§ˆ ì„¤ê³„
2.  ì¿¼ë¦¬ ìƒì„± ë° ë§ˆì´ê·¸ë ˆì´ì…˜(Migration)
3.  ì¸í”„ë¼ ì•„í‚¤í…ì²˜ ì„¤ê³„ (í´ë¼ìš°ë“œ)
4.  Infrastructure as Code (IaC) ì‘ì„±
5.  CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶• ì¤€ë¹„

---

#### 1. ë°ì´í„°ë² ì´ìŠ¤ ì„ ì • ë° ìŠ¤í‚¤ë§ˆ ì„¤ê³„

* **ğŸ¯ ëª©í‘œ:** 1ë‹¨ê³„ [PRD]ì™€ 4ë‹¨ê³„ [API ëª…ì„¸ì„œ]ë¥¼ ê¸°ë°˜ìœ¼ë¡œ, ìš°ë¦¬ ì„œë¹„ìŠ¤(í”„ë¡¬í”„íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬)ì— ê°€ì¥ ì í•©í•œ ë°ì´í„°ë² ì´ìŠ¤(SQL vs NoSQL)ë¥¼ ì„ ì •í•˜ê³ , ë°ì´í„°ì˜ 'ì²­ì‚¬ì§„'ì¸ ìŠ¤í‚¤ë§ˆë¥¼ ì„¤ê³„í•©ë‹ˆë‹¤.
* **ğŸ”§ í•µì‹¬ ì—…ë¬´ Task:**
    * ê´€ê³„í˜•(RDBMS - ì˜ˆ: PostgreSQL)ê³¼ ë¹„ê´€ê³„í˜•(NoSQL - ì˜ˆ: MongoDB) ë°ì´í„°ë² ì´ìŠ¤ ë¹„êµ ë° ì„ ì •.
    * 1ë‹¨ê³„ PRDì˜ ê¸°ëŠ¥(ìœ ë£Œ êµ¬ë…, ì‚¬ìš©ìë³„ ë¼ì´ë¸ŒëŸ¬ë¦¬, íƒœê·¸)ì„ ê¸°ë°˜ìœ¼ë¡œ í…Œì´ë¸” ë˜ëŠ” ì»¬ë ‰ì…˜ ì •ì˜.
    * ë°ì´í„° ê°„ì˜ ê´€ê³„(Relations) ì •ì˜ (ì˜ˆ: UserëŠ” ì—¬ëŸ¬ Promptë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤).
    * SQL DDL(Data Definition Language) ë˜ëŠ” NoSQL ìŠ¤í‚¤ë§ˆ(ì˜ˆ: Mongoose Schema) ì´ˆì•ˆ ì‘ì„±.
* **ğŸ¤– í™œìš© AI ë„êµ¬:**
    * **ë²”ìš© LLM (Gemini, Claude 3):** ê¸°ìˆ  ìŠ¤íƒ ê°„ì˜ ì¥ë‹¨ì ì„ ë¹„êµí•˜ê³ , ìš”êµ¬ì‚¬í•­ì— ë§ëŠ” ìŠ¤í‚¤ë§ˆ ì´ˆì•ˆì„ ìƒì„±í•©ë‹ˆë‹¤.
    * **Cursor (AI Native IDE):** ì½”ë“œë² ì´ìŠ¤ì˜ `@`íŒŒì¼(PRD, API ìŠ¤í™)ì„ ì°¸ì¡°í•˜ì—¬ ìŠ¤í‚¤ë§ˆ ì½”ë“œë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
* **ğŸ’¡ AI í™œìš© ì „ëµ:**
    * **'ìš”êµ¬ì‚¬í•­' ê¸°ë°˜ DB ì¶”ì²œ:** AIì—ê²Œ "ìš°ë¦¬ëŠ” ì‚¬ìš©ìì™€ í”„ë¡¬í”„íŠ¸ ê°„ì˜ ëª…í™•í•œ ê´€ê³„ê°€ í•„ìš”í•˜ê³ , ì¶”í›„ íƒœê·¸ ê²€ìƒ‰ê³¼ ê°™ì€ ë³µì¡í•œ ì¿¼ë¦¬ê°€ ì˜ˆìƒë˜ë©°, ìœ ë£Œ êµ¬ë… ìƒíƒœë¥¼ ê´€ë¦¬í•´ì•¼ í•¨"ê³¼ ê°™ì´ 1ë‹¨ê³„ì˜ ìš”êµ¬ì‚¬í•­ì„ ëª…í™•íˆ ì „ë‹¬í•˜ì—¬ ìµœì ì˜ DB(ì´ ê²½ìš°, ê´€ê³„í˜• DBì¸ PostgreSQL)ë¥¼ ì¶”ì²œë°›ìŠµë‹ˆë‹¤.
    * **'API ìŠ¤í™' ê¸°ë°˜ ìŠ¤í‚¤ë§ˆ ìƒì„±:** 4ë‹¨ê³„ì˜ `@apiSpec.yaml` íŒŒì¼ì„ AIì— ì°¸ì¡°ì‹œì¼œ, "ì´ APIê°€ ìš”êµ¬í•˜ëŠ” ë°ì´í„° êµ¬ì¡°ë¥¼ ë§Œì¡±í•˜ëŠ” SQL í…Œì´ë¸” ìŠ¤í‚¤ë§ˆë¥¼ ìƒì„±í•´ ì¤˜"ë¼ê³  ì§€ì‹œí•˜ì—¬ APIì™€ DB ê°„ì˜ ë¶ˆì¼ì¹˜ë¥¼ ìµœì†Œí™”í•©ë‹ˆë‹¤.
* **âœï¸ ì˜ˆì‹œ í”„ë¡¬í”„íŠ¸:**
    > **[DB ì„ ì • ë° ë¹„êµ (ë²”ìš© LLM)]**
    > "ë„ˆëŠ” ë°ì´í„° ì•„í‚¤í…íŠ¸ AIì•¼. 'AI í”„ë¡¬í”„íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬' ì„œë¹„ìŠ¤ë¥¼ ìœ„í•œ DBë¥¼ ì„ ì •í•´ì•¼ í•´.
    >
    > **ìš”êµ¬ì‚¬í•­:**
    > 1.  **ë°ì´í„°:** Users, Prompts, Subscriptions, Tags, User\_Prompt\_Likes (ë‹¤ëŒ€ë‹¤ ê´€ê³„).
    > 2.  **í•µì‹¬ ê¸°ëŠ¥:** íƒœê·¸ ê¸°ë°˜ í”„ë¡¬í”„íŠ¸ ê²€ìƒ‰, ì‚¬ìš©ìë³„ êµ¬ë… ë“±ê¸‰(Pro/Free) ê´€ë¦¬.
    >
    > **ì§ˆë¬¸:** PostgreSQL(RDBMS)ê³¼ MongoDB(NoSQL) ì¤‘ ì–´ë–¤ ê²ƒì´ ì´ ìš”êµ¬ì‚¬í•­ì— ë” ì í•©í•œì§€, 'ë°ì´í„° ë¬´ê²°ì„±', 'ì¿¼ë¦¬ ë³µì¡ì„±', 'í™•ì¥ì„±' ì¸¡ë©´ì—ì„œ ì¥ë‹¨ì ì„ ë¹„êµí•˜ëŠ” í‘œë¥¼ ë§Œë“¤ì–´ ì¤˜."

    > **[SQL ìŠ¤í‚¤ë§ˆ ìƒì„± (Cursor)]**
    > (PostgreSQLë¡œ ê²°ì •í–ˆë‹¤ê³  ê°€ì •)
    > "ì¢‹ì•„, PostgreSQLì„ ì‚¬ìš©í•˜ê¸°ë¡œ í–ˆì–´. 1ë‹¨ê³„ `@PRD.md`ì™€ 4ë‹¨ê³„ `@apiSpec.yaml`ì„ ì°¸ì¡°í•´ì„œ, ìš°ë¦¬ ì„œë¹„ìŠ¤ì— í•„ìš”í•œ **SQL DDL ìŠ¤í‚¤ë§ˆ**ë¥¼ ì‘ì„±í•´ ì¤˜.
    >
    > **í•„ìˆ˜ í…Œì´ë¸”:**
    > 1.  `users` (id, email, password_hash, role: 'USER'|'ADMIN', subscription_status: 'FREE'|'PRO')
    > 2.  `prompts` (id, title, description, prompt_text, agent_type: 'LLM'|'IMAGE', created_by: `users(id)` FK)
    > 3.  `tags` (id, name)
    > 4.  `prompt_tags` (prompt_id: `prompts(id)` FK, tag_id: `tags(id)` FK) (ë‹¤ëŒ€ë‹¤ ê´€ê³„)
    >
    > `created_by` ì»¬ëŸ¼ì—ëŠ” `users` í…Œì´ë¸”ì˜ `id`ë¥¼ ì°¸ì¡°í•˜ëŠ” ì™¸ë˜ í‚¤(Foreign Key) ì œì•½ì¡°ê±´ê³¼ ì¸ë±ìŠ¤(index)ë¥¼ ë°˜ë“œì‹œ í¬í•¨í•´ ì¤˜."

---

#### 2. ì¿¼ë¦¬ ìƒì„± ë° ë§ˆì´ê·¸ë ˆì´ì…˜ (Migration)

* **ğŸ¯ ëª©í‘œ:** 1ë‹¨ê³„ì—ì„œ ì„¤ê³„í•œ ìŠ¤í‚¤ë§ˆë¥¼ ì‹¤ì œ DBì— ì ìš©(Migration)í•˜ê³ , 4ë‹¨ê³„ì˜ ë°±ì—”ë“œ ì„œë¹„ìŠ¤ ë¡œì§ì´ ì‚¬ìš©í•  ORM(Object-Relational Mapper) ì½”ë“œì™€ ìµœì í™”ëœ ì¿¼ë¦¬ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
* **ğŸ”§ í•µì‹¬ ì—…ë¬´ Task:**
    * ORM ì„¤ì¹˜ (ì˜ˆ: Prisma, TypeORM, Sequelize).
    * 1ë‹¨ê³„ì˜ SQL ìŠ¤í‚¤ë§ˆë¥¼ ORM ìŠ¤í‚¤ë§ˆ(ì˜ˆ: `schema.prisma`)ë¡œ ë³€í™˜.
    * ORM ë§ˆì´ê·¸ë ˆì´ì…˜ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ DB ìŠ¤í‚¤ë§ˆë¥¼ í˜•ìƒ ê´€ë¦¬.
    * ë³µì¡í•œ ì¿¼ë¦¬(JOINs, Aggregations)ë¥¼ ORM ì½”ë“œë¡œ ì‘ì„±.
    * 4ë‹¨ê³„ì˜ Mock Service ë¡œì§ì„ ì‹¤ì œ ORMì„ ì‚¬ìš©í•˜ëŠ” ì½”ë“œë¡œ ë¦¬íŒ©í† ë§.
* **ğŸ¤– í™œìš© AI ë„êµ¬:**
    * **Cursor, GitHub Copilot:** ORM ìŠ¤í‚¤ë§ˆ ë³€í™˜, ì„œë¹„ìŠ¤ ë¡œì§ ë¦¬íŒ©í† ë§, ë³µì¡í•œ ì¿¼ë¦¬ ìƒì„±.
    * **Prisma (Tools):** `prisma migrate dev` ê°™ì€ CLI ë„êµ¬ (AIê°€ ì•„ë‹Œ ë„êµ¬ì§€ë§Œ í•„ìˆ˜ì ).
* **ğŸ’¡ AI í™œìš© ì „ëµ:**
    * **'SQL' to 'ORM':** AIì—ê²Œ "1ë‹¨ê³„ì—ì„œ ë§Œë“  `@schema.sql` íŒŒì¼ì„ ì½ê³ , ì´ë¥¼ `Prisma` ìŠ¤í‚¤ë§ˆ ë¬¸ë²•(`schema.prisma`)ìœ¼ë¡œ ë³€í™˜í•´ ì¤˜"ë¼ê³  ì§€ì‹œí•˜ì—¬ ë³€í™˜ ì‘ì—…ì„ ìë™í™”í•©ë‹ˆë‹¤.
    * **'Mock' to 'Real':** 4ë‹¨ê³„ì˜ `@src/services/promptService.ts` íŒŒì¼ì„ `@`ë¡œ ì°¸ì¡°ì‹œì¼œ, "ì´ íŒŒì¼ì˜ Mock í•¨ìˆ˜ë“¤ì„ `prismaClient`ë¥¼ ì‚¬ìš©í•´ì„œ ì‹¤ì œ DBì™€ í†µì‹ í•˜ë„ë¡ ë¦¬íŒ©í† ë§í•´ ì¤˜"ë¼ê³  ì§€ì‹œí•©ë‹ˆë‹¤.
    * **'Natural Language' to 'Query':** "AIê°€ ì¶”ì²œí•˜ëŠ” í”„ë¡¬í”„íŠ¸ 5ê°œë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¿¼ë¦¬"ì²˜ëŸ¼ ìì—°ì–´ë¡œ ì§€ì‹œí•˜ì—¬ ë³µì¡í•œ ORM ì½”ë“œë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
* **âœï¸ ì˜ˆì‹œ í”„ë¡¬í”„íŠ¸:**
    > **[ì„œë¹„ìŠ¤ ë¡œì§ ë¦¬íŒ©í† ë§ (Cursor)]**
    > "4ë‹¨ê³„ì˜ `@src/services/promptService.ts` íŒŒì¼ì„ ì—´ì–´.
    > ì´ íŒŒì¼ ì „ì²´ë¥¼ Prismaë¥¼ ì‚¬ìš©í•˜ë„ë¡ ë¦¬íŒ©í† ë§í•´ ì¤˜.
    > 1.  íŒŒì¼ ìƒë‹¨ì— `PrismaClient`ë¥¼ import í•˜ê³  ì¸ìŠ¤í„´ìŠ¤í™”í•´.
    > 2.  `fetchPrompts` í•¨ìˆ˜ëŠ” `prisma.prompt.findMany()`ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ë³€ê²½í•´. (í˜ì´ì§€ë„¤ì´ì…˜ `skip`, `take` ì ìš©)
    > 3.  `createPromptForUser` í•¨ìˆ˜ëŠ” `prisma.prompt.create()`ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ë³€ê²½í•´."

    > **[ë³µì¡í•œ ì¿¼ë¦¬ ìƒì„± (Cursor)]**
    > "ë‹¤ìŒ ìš”êµ¬ì‚¬í•­ì„ ë§Œì¡±í•˜ëŠ” **Prisma ì¿¼ë¦¬**ë¥¼ ì‘ì„±í•´ ì¤˜:
    > 'íŠ¹ì • íƒœê·¸(ì˜ˆ: 'ë§ˆì¼€íŒ…')ê°€ ë¶™ì–´ìˆê³ , ìœ ë£Œ(Pro) ì‚¬ìš©ìë§Œ ë³¼ ìˆ˜ ìˆëŠ” í”„ë¡¬í”„íŠ¸ ëª©ë¡ì„ ì¡°íšŒí•˜ë˜, 'ì¢‹ì•„ìš”'ê°€ ë§ì€ ìˆœìœ¼ë¡œ ì •ë ¬í•˜ê³ , ìƒì„±ì(user)ì˜ ì´ë¦„ë„ í•¨ê»˜ í¬í•¨(JOIN)í•´ ì¤˜.'"

---

#### 3. ì¸í”„ë¼ ì•„í‚¤í…ì²˜ ì„¤ê³„ (í´ë¼ìš°ë“œ)

* **ğŸ¯ ëª©í‘œ:** 1~4ë‹¨ê³„ë¥¼ ê±°ì¹œ ì• í”Œë¦¬ì¼€ì´ì…˜ ìŠ¤íƒ(í”„ë¡ íŠ¸, ë°±ì—”ë“œ, DB)ì„ í˜¸ìŠ¤íŒ…í•  í™•ì¥ ê°€ëŠ¥í•˜ê³  ì•ˆì „í•œ í´ë¼ìš°ë“œ ì•„í‚¤í…ì²˜(ì˜ˆ: AWS, GCP)ë¥¼ ì„¤ê³„í•©ë‹ˆë‹¤.
* **ğŸ”§ í•µì‹¬ ì—…ë¬´ Task:**
    * ì• í”Œë¦¬ì¼€ì´ì…˜ ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨ ì„¤ê³„ (ì‹œê°í™”).
    * ì»´í“¨íŒ…, ë°ì´í„°ë² ì´ìŠ¤, ìŠ¤í† ë¦¬ì§€, ë„¤íŠ¸ì›Œí‚¹ì— ì‚¬ìš©í•  êµ¬ì²´ì ì¸ í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ ì„ ì •.
        * (ì˜ˆ: **í”„ë¡ íŠ¸**-Vercel, **ë°±ì—”ë“œ**-AWS Fargate/Lambda, **DB**-AWS RDS, **íŒŒì¼ì €ì¥**-AWS S3)
    * VPC, ì„œë¸Œë„·(Public/Private), ë³´ì•ˆ ê·¸ë£¹(Security Groups) ë“± ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ ì „ëµ ìˆ˜ë¦½.
    * ë¡œê¹… ë° ëª¨ë‹ˆí„°ë§(ì˜ˆ: CloudWatch, Sentry) ì „ëµì„ ì•„í‚¤í…ì²˜ì— í¬í•¨.
* **ğŸ¤– í™œìš© AI ë„êµ¬:**
    * **ë²”ìš© LLM (Gemini, Claude 3):** ìŠ¤íƒì— ë§ëŠ” ì•„í‚¤í…ì²˜ íŒ¨í„´ ë° ì„œë¹„ìŠ¤ ì¶”ì²œ.
    * **Miro AI, FigJam AI:** í…ìŠ¤íŠ¸ë¡œ ëœ ì„¤ëª…ì„ ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨ìœ¼ë¡œ ì‹œê°í™”.
* **ğŸ’¡ AI í™œìš© ì „ëµ:**
    * **'ìŠ¤íƒ' ê¸°ë°˜ ì•„í‚¤í…ì²˜ ì¶”ì²œ:** AIì—ê²Œ "í”„ë¡ íŠ¸ì—”ë“œ(Next.js), ë°±ì—”ë“œ(Node.js/Express), DB(PostgreSQL) ìŠ¤íƒì„ ìœ„í•œ AWS ê¸°ë°˜ì˜ MSA ì•„í‚¤í…ì²˜ë¥¼ ì¶”ì²œí•´ ì¤˜. MVP ë‹¨ê³„ì´ë©°, ë¹„ìš© íš¨ìœ¨ì„±ê³¼ í™•ì¥ì„±ì„ ëª¨ë‘ ê³ ë ¤í•´ì•¼ í•´."ë¼ê³  ì§€ì‹œí•©ë‹ˆë‹¤.
    * **'í…ìŠ¤íŠ¸' to 'ë‹¤ì´ì–´ê·¸ë¨':** LLMì´ ì¶”ì²œí•œ ì•„í‚¤í…ì²˜(ì˜ˆ: "Vercel for Next.js, AWS Fargate for API, AWS RDS for DB...") í…ìŠ¤íŠ¸ë¥¼ Miro AIì— ì…ë ¥í•˜ê³  "ì´ êµ¬ì„±ìš”ì†Œë“¤ë¡œ í´ë¼ìš°ë“œ ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨ì„ ê·¸ë ¤ì¤˜"ë¼ê³  ìš”ì²­í•©ë‹ˆë‹¤.
* **âœï¸ ì˜ˆì‹œ í”„ë¡¬í”„íŠ¸:**
    > **[ì•„í‚¤í…ì²˜ ì¶”ì²œ (ë²”ìš© LLM)]**
    > "ë„ˆëŠ” ìµœê³  ê¸°ìˆ  ì±…ì„ì(CTO) AIì•¼. ìš°ë¦¬ 'í”„ë¡¬í”„íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬' ì„œë¹„ìŠ¤ì˜ í´ë¼ìš°ë“œ ì•„í‚¤í…ì²˜ë¥¼ ì„¤ê³„í•´ ì¤˜.
    >
    > **ê¸°ìˆ  ìŠ¤íƒ:**
    > * í”„ë¡ íŠ¸ì—”ë“œ: Next.js (Phase 3)
    > * ë°±ì—”ë“œ: Node.js/Express (Docker ì»¨í…Œì´ë„ˆ ì‚¬ìš© ì˜ˆì •) (Phase 4)
    > * ë°ì´í„°ë² ì´ìŠ¤: PostgreSQL (Task 1)
    >
    > **ìš”êµ¬ì‚¬í•­:**
    > 1.  ë°±ì—”ë“œ APIì™€ DBëŠ” ì™¸ë¶€ì—ì„œ ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ì—†ë„ë¡ **Private Subnet**ì— ë°°ì¹˜.
    > 2.  í”„ë¡ íŠ¸ì—”ë“œëŠ” **Vercel**ì„ ì‚¬ìš©í•œ ê¸€ë¡œë²Œ ë°°í¬.
    > 3.  ë°±ì—”ë“œëŠ” **AWS Fargate** (ì„œë²„ë¦¬ìŠ¤ ì»¨í…Œì´ë„ˆ) ì‚¬ìš©.
    > 4.  DBëŠ” **AWS RDS** ì‚¬ìš©.
    > 5.  (í•„ìš” ì‹œ) í”„ë¡¬í”„íŠ¸ ì´ë¯¸ì§€ ë“±ì€ **AWS S3**ì— ì €ì¥.
    >
    > ì´ ìš”êµ¬ì‚¬í•­ì„ ë§Œì¡±í•˜ëŠ” ì•„í‚¤í…ì²˜ì˜ ì£¼ìš” êµ¬ì„±ìš”ì†Œì™€ ë°ì´í„° íë¦„ì„ ì„¤ëª…í•´ ì¤˜."

---

#### 4. Infrastructure as Code (IaC) ì‘ì„±

* **ğŸ¯ ëª©í‘œ:** 3ë‹¨ê³„ì—ì„œ ì„¤ê³„í•œ ì•„í‚¤í…ì²˜ë¥¼ ìˆ˜ë™ìœ¼ë¡œ í´ë¦­í•˜ì—¬ êµ¬ì„±í•˜ëŠ” ëŒ€ì‹ , 'ì½”ë“œ(Code)'ë¡œ ì •ì˜(IaC)í•˜ì—¬ ë™ì¼í•œ í™˜ê²½ì„ ë¹ ë¥´ê³  ì¼ê´€ë˜ê²Œ ë°°í¬í•©ë‹ˆë‹¤.
* **ğŸ”§ í•µì‹¬ ì—…ë¬´ Task:**
    * IaC ë„êµ¬ ì„ ì • (ì˜ˆ: Terraform, AWS CDK, Pulumi).
    * ë°±ì—”ë“œ/í”„ë¡ íŠ¸ì—”ë“œ ì•±ì„ ìœ„í•œ `Dockerfile` ë° `docker-compose.yml` (ë¡œì»¬ ê°œë°œìš©) ì‘ì„±.
    * 3ë‹¨ê³„ ì•„í‚¤í…ì²˜ì— ì •ì˜ëœ í´ë¼ìš°ë“œ ë¦¬ì†ŒìŠ¤(VPC, RDS, Fargate Service, S3 Bucket ë“±)ë¥¼ `Terraform`(.tf) ì½”ë“œë¡œ ì‘ì„±.
    * ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œì— ëª¨ë‹ˆí„°ë§/ë¡œê¹… SDK(ì˜ˆ: Sentry, Datadog) ì—°ë™ ì½”ë“œ ì¶”ê°€.
* **ğŸ¤– í™œìš© AI ë„êµ¬:**
    * **Cursor, GitHub Copilot:** `Dockerfile`, `docker-compose.yml`, `terraform.tf` íŒŒì¼ì˜ ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ì½”ë“œë¥¼ ì‹ ì†í•˜ê²Œ ìƒì„±.
    * **ë²”ìš© LLM:** "ë‚´ Node.js ì•±ì„ ìœ„í•œ Dockerfile ìµœì í™” ë°©ë²•" ë“± ëª¨ë²” ì‚¬ë¡€ë¥¼ ì§ˆë¬¸.
* **ğŸ’¡ AI í™œìš© ì „ëµ:**
    * **'ì•„í‚¤í…ì²˜' to 'ì½”ë“œ':** 3ë‹¨ê³„ì˜ ì•„í‚¤í…ì²˜ ì„¤ê³„ë¥¼ ê¸°ë°˜ìœ¼ë¡œ "AWS Fargateì— ë‚´ Docker ì´ë¯¸ì§€ë¥¼ ë°°í¬í•˜ê³ , ALBì™€ ì—°ê²°í•˜ëŠ” Terraform ì½”ë“œë¥¼ ì‘ì„±í•´ ì¤˜"ë¼ê³  ì§€ì‹œí•©ë‹ˆë‹¤.
    * **'í”„ë¡œì íŠ¸' to 'Dockerfile':** AI(Cursor)ì—ê²Œ "í˜„ì¬ Node.js/Express í”„ë¡œì íŠ¸ë¥¼ ìœ„í•œ í”„ë¡œë•ì…˜ìš© `Dockerfile`ì„ ìƒì„±í•´ ì¤˜. ë©€í‹° ìŠ¤í…Œì´ì§€ ë¹Œë“œ(Multi-stage build)ë¥¼ ì‚¬ìš©í•´ì„œ ì´ë¯¸ì§€ í¬ê¸°ë¥¼ ìµœì í™”í•´ ì¤˜"ë¼ê³  ì§€ì‹œí•©ë‹ˆë‹¤.
* **âœï¸ ì˜ˆì‹œ í”„ë¡¬í”„íŠ¸:**
    > **[Dockerfile ìƒì„± (Cursor)]**
    > "í˜„ì¬ `@Phase-4-Backend` í´ë”ì˜ Node.js/TypeScript í”„ë¡œì íŠ¸ë¥¼ ìœ„í•œ í”„ë¡œë•ì…˜ ë ˆë”” `Dockerfile`ì„ ìƒì„±í•´ ì¤˜.
    > 1.  `node:18-alpine` ì´ë¯¸ì§€ë¥¼ ë² ì´ìŠ¤ë¡œ ì‚¬ìš©í•´.
    > 2.  **Builder Stage:** `package.json` ë³µì‚¬ -> `npm install` -> ì†ŒìŠ¤ ì½”ë“œ ë³µì‚¬ -> `npm run build` (TypeScript ì»´íŒŒì¼).
    > 3.  **Production Stage:** `node:18-alpine`ì—ì„œ `Builder Stage`ì˜ `dist` í´ë”ì™€ `node_modules`ë¥¼ ë³µì‚¬í•´.
    > 4.  `npm ci --omit=dev`ë¥¼ ì‚¬ìš©í•´ ì´ë¯¸ì§€ ìš©ëŸ‰ì„ ìµœì†Œí™”í•´.
    > 5.  `CMD ["node", "dist/server.js"]`ë¡œ ì„œë²„ë¥¼ ì‹œì‘í•´."

    > **[Terraform ì½”ë“œ ìƒì„± (Cursor/LLM)]**
    > "3ë‹¨ê³„ ì•„í‚¤í…ì²˜ ì„¤ê³„ë¥¼ ê¸°ë°˜ìœ¼ë¡œ, `Terraform`ì„ ì‚¬ìš©í•´ì„œ **AWS RDS** (PostgreSQL 15) ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” `rds.tf` íŒŒì¼ì˜ ì˜ˆì‹œ ì½”ë“œë¥¼ ì‘ì„±í•´ ì¤˜. db_usernameê³¼ db_passwordëŠ” variables.tf íŒŒì¼ì—ì„œ ê°€ì ¸ì˜¤ë„ë¡ í•˜ê³ , publicly_accessibleì€ falseë¡œ ì„¤ì •í•´ì„œ 3ë‹¨ê³„ì˜ ë³´ì•ˆ ìš”êµ¬ì‚¬í•­ì„ ë§Œì¡±ì‹œì¼œ ì¤˜."

---

### 5. CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶• ì¤€ë¹„

* **ğŸ¯ ëª©í‘œ:** ê°œë°œìê°€ ì½”ë“œë¥¼ Git(ì˜ˆ: GitHub)ì— í‘¸ì‹œ(Push)í•  ë•Œë§ˆë‹¤, 4ë‹¨ê³„ì˜ 'í…ŒìŠ¤íŠ¸'ë¥¼ ìë™ìœ¼ë¡œ ì‹¤í–‰í•˜ê³ , 4ë‹¨ê³„ì˜ 'Docker ë¹Œë“œ'ë¥¼ ìˆ˜í–‰í•˜ë©°, 4ë‹¨ê³„ì˜ 'IaC'ë¥¼ ì‹¤í–‰í•˜ì—¬ ìë™ìœ¼ë¡œ 'ë°°í¬'í•˜ëŠ” íŒŒì´í”„ë¼ì¸(CI/CD)ì„ 'ì¤€ë¹„'(YAML íŒŒì¼ ì‘ì„±)í•©ë‹ˆë‹¤.
* **ğŸ”§ í•µì‹¬ ì—…ë¬´ Task:**
    * CI/CD ë„êµ¬ ì„ ì • (ì˜ˆ: GitHub Actions, GitLab CI).
    * CI/CD ì›Œí¬í”Œë¡œìš° YAML íŒŒì¼(`main.yml`) ì‘ì„±.
    * ë¸Œëœì¹˜ ì „ëµ ì •ì˜ (ì˜ˆ: `main` ë¸Œëœì¹˜ í‘¸ì‹œ ì‹œ í”„ë¡œë•ì…˜ ë°°í¬).
    * íŒŒì´í”„ë¼ì¸ ë‹¨ê³„(Jobs) ì •ì˜: `Test` -> `Build` (Docker) -> `Deploy` (IaC).
* **ğŸ¤– í™œìš© AI ë„êµ¬:**
    * **GitHub Copilot (in VS Code/Cursor):** `.github/workflows/main.yml` íŒŒì¼ ì‘ì„± ì‹œ ìë™ ì™„ì„± ê¸°ëŠ¥ì´ ê°•ë ¥í•¨.
    * **ë²”ìš© LLM:** ë³µì¡í•œ ë°°í¬ ì „ëµ(ì˜ˆ: Blue/Green ë°°í¬)ì„ ìœ„í•œ ì›Œí¬í”Œë¡œìš° í…œí”Œë¦¿ì„ ìš”ì²­.
* **ğŸ’¡ AI í™œìš© ì „ëµ:**
    * **'ìŠ¤íƒ' ê¸°ë°˜ ì›Œí¬í”Œë¡œìš° ìƒì„±:** AIì—ê²Œ "ë‚´ Node.js ë°±ì—”ë“œ ì•±(Docker ì‚¬ìš©)ì„ GitHub Actionsë¥¼ ì‚¬ìš©í•´ì„œ AWS ECR(Docker Registry)ì— í‘¸ì‹œí•˜ê³ , 4ë‹¨ê³„ì˜ Terraform ì½”ë“œë¥¼ ì‹¤í–‰í•˜ì—¬ AWS Fargateì— ë°°í¬í•˜ëŠ” ì›Œí¬í”Œë¡œìš° YAMLì„ ìƒì„±í•´ ì¤˜"ë¼ê³  êµ¬ì²´ì ì¸ ìŠ¤íƒì„ ëª…ì‹œí•©ë‹ˆë‹¤.
* **âœï¸ ì˜ˆì‹œ í”„ë¡¬í”„íŠ¸:**
    > **[GitHub Actions ì›Œí¬í”Œë¡œìš° ìƒì„± (Cursor)]**
    > "`.github/workflows/backend-ci-cd.yml` íŒŒì¼ì„ ìƒì„±í•´ ì¤˜.
    >
    > **ì›Œí¬í”Œë¡œìš° ì¡°ê±´:** `main` ë¸Œëœì¹˜ì— `push`ê°€ ë°œìƒí•  ë•Œ ì‹¤í–‰.
    >
    > **Jobs:**
    > 1.  **`test` Job:**
    >     - Ubuntu ìµœì‹  ë²„ì „ì—ì„œ ì‹¤í–‰.
    >     - Node.js 18 ì„¤ì •, `npm install` ì‹¤í–‰, 4ë‹¨ê³„ì˜ `npm test` ì‹¤í–‰.
    > 2.  **`build-and-push` Job:**
    >     - `test` Jobì´ ì„±ê³µí•´ì•¼ ì‹¤í–‰.
    >     - AWS ìê²© ì¦ëª…(Secrets)ì„ ì‚¬ìš©í•˜ì—¬ ECRì— ë¡œê·¸ì¸.
    >     - 4ë‹¨ê³„ì˜ `Dockerfile`ì„ ì‚¬ìš©í•˜ì—¬ Docker ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ê³  ECRì— í‘¸ì‹œ.
    > 3.  **`deploy` Job:**
    >     - `build-and-push` Jobì´ ì„±ê³µí•´ì•¼ ì‹¤í–‰.
    >     - AWS ìê²© ì¦ëª…(Secrets) ì„¤ì •, Terraform ì„¤ì •.
    >     - `terraform apply -auto-approve`ë¥¼ ì‹¤í–‰í•˜ì—¬ 4ë‹¨ê³„ì˜ IaC ì½”ë“œë¡œ ë°°í¬."

---